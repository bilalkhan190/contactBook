@using PropertyManagementSystem.Helpers;
@using PropertyManagementSystem.Models;
<!DOCTYPE html>
<html lang="en">

<!-- PURCHASED FROM www.themeon.net/nifty/v2.9.1/index.html by COPYRIGHT/3.x [XR&CO'2014], Sat, 13 Jul 2019 12:24:29 GMT -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Lead Management System</title>

    <!--STYLESHEET-->
    <!--=================================================-->
    <!--Open Sans Font [ OPTIONAL ]-->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>
    @Styles.Render("~/assets/cache/site")
    @if (IsSectionDefined("LinkStyleSection"))
    {
        @RenderSection("LinkStyleSection");
    }
    @if (IsSectionDefined("InLineStyleSection"))
    {
        @RenderSection("InLineStyleSection");
    }
</head>
<body>
    <div id="container" class="effect aside-float aside-bright mainnav-lg">

        <!--NAVBAR-->
        <!--===================================================-->
        <header id="navbar">
            <div id="navbar-container" class="boxed">
                <!--Brand logo & name-->
                <!--================================-->
                <div class="navbar-header">
                    <a href="/dashboard" class="navbar-brand">
                        @*<img src="~/assets/images/logo.png" alt="Nifty Logo" class="brand-icon">*@
                        <div class="brand-title">
                            <span class="brand-text">Lead Management System</span>
                        </div>
                    </a>
                </div>
                <!--================================-->
                <!--End brand logo & name-->
                <!--Navbar Dropdown-->
                <!--================================-->
                <div class="navbar-content">
                    <ul class="nav navbar-top-links">
                        <!--Navigation toogle button-->
                        <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                        <li class="tgl-menu-btn">
                            <a class="mainnav-toggle" href="#">
                                <i class="demo-pli-list-view"></i>
                            </a>
                        </li>
                        <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                        <!--End Navigation toogle button-->
                    </ul>
                    <ul class="nav navbar-top-links">

                        <li class="dropdown">
                            <a href="#" data-toggle="dropdown" class="dropdown-toggle">
                                <i class="demo-pli-bell"></i>
                                @if (ViewBag.Notification.Count > 0)
                                {
                                    <span class="badge badge-header badge-danger">@ViewBag.Notification.Count</span>
                                }
                            </a>

                            <!--Notification dropdown menu-->
                            <div class="dropdown-menu dropdown-menu-md dropdown-menu-right">
                                <div class="nano scrollable">
                                    <div class="nano-content">
                                        <ul class="head-list">
                                            @if (ViewBag.Notification.Count == 0)
                                            {
                                                <li>
                                                    <div class="media-body">
                                                        <p class="mar-no text-nowrap text-main text-semibold">No Reminders Today</p>
                                                    </div>
                                                </li>
                                            }
                                            else
                                            {
                                                <li>
                                                    <div class="media-body">
                                                        <p class="mar-no text-nowrap text-main text-semibold">Today Reminder's</p>
                                                    </div>
                                                </li>
                                                <hr />

                                                foreach (var item in ViewBag.Notification)
                                                {
                                                    <li>
                                                        <div class="media-body">
                                                            <a href="/leads/views/@item.ID">
                                                                <p class="mar-no text-nowrap text-main text-semibold">@item.Name - @item.ReminderTime</p>
                                                            </a>
                                                            @*<small>40 minutes ago</small>*@
                                                        </div>
                                                    </li>
                                                    <hr>
                                                }
                                            }

                                        </ul>
                                    </div>
                                </div>
                                <!--Dropdown footer-->
                                <div class="pad-all">
                                    <a href="/leads" class="btn-link text-main box-block">
                                        <i class="pci-chevron chevron-right pull-right"></i>Show All Leads
                                    </a>
                                </div>
                            </div>
                        </li>

                        <!--User dropdown-->
                        <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                        <li id="dropdown-user" class="dropdown">
                            <a href="#" data-toggle="dropdown" class="dropdown-toggle text-right">
                                <span class="ic-user pull-right">
                                    <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                    <!--You can use an image instead of an icon.-->
                                    <!--<img class="img-circle img-user media-object" src="img/profile-photos/1.png" alt="Profile Picture">-->
                                    <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                    <i class="demo-pli-male"></i>
                                </span>
                                <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                <!--You can also display a user name in the navbar.-->
                                <!--<div class="username hidden-xs">Aaron Chavez</div>-->
                                <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                            </a>

                            <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right panel-default">
                                <ul class="head-list">
                                    <li>
                                        <a href="/dashboard/profiles"><i class="demo-pli-male icon-lg icon-fw"></i> Profile</a>
                                    </li>
                                    <li>
                                        <a href="/dashboard/logout"><i class="demo-pli-unlock icon-lg icon-fw"></i> Logout</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                        <!--End user dropdown-->

                    </ul>
                </div>
                <!--================================-->
                <!--End Navbar Dropdown-->
            </div>
        </header>
        <!--===================================================-->
        <!--END NAVBAR-->
        <div class="boxed">
            <!--CONTENT CONTAINER-->
            <!--===================================================-->
            <div id="content-container">
                @RenderBody()
            </div>
            <!--===================================================-->
            <!--END CONTENT CONTAINER-->
            <!--MAIN NAVIGATION-->
            <!--===================================================-->
            <nav id="mainnav-container">
                <div id="mainnav">

                    <!--OPTIONAL : ADD YOUR LOGO TO THE NAVIGATION-->
                    <!--It will only appear on small screen devices.-->
                    <!--================================
                    <div class="mainnav-brand">
                        <a href="index.html" class="brand">
                            <img src="img/logo.png" alt="Nifty Logo" class="brand-icon">
                            <span class="brand-text">Nifty</span>
                        </a>
                        <a href="#" class="mainnav-toggle"><i class="pci-cross pci-circle icon-lg"></i></a>
                    </div>
                    -->
                    <!--Menu-->
                    <!--================================-->
                    <div id="mainnav-menu-wrap">
                        <div class="nano">
                            <div class="nano-content">
                                <!--Profile Widget-->
                                <!--================================-->
                                <div id="mainnav-profile" class="mainnav-profile">
                                    <div class="profile-wrap text-center">
                                        <div class="pad-btm">
                                            <img class="img-circle img-md" src="~/assets/images/user-profile.png" alt="Profile Picture">
                                        </div>
                                        <a href="#profile-nav" class="box-block" data-toggle="collapse" aria-expanded="false">
                                            <span class="pull-right dropdown-toggle">
                                                <i class="dropdown-caret"></i>
                                            </span>
                                            <p class="mnp-name">@ViewBag.UserRecord.Name</p>
                                            <span class="mnp-desc">@ViewBag.UserRecord.EmailAddress</span>
                                        </a>
                                    </div>
                                    <div id="profile-nav" class="collapse list-group bg-trans">
                                        <a href="/dashboard/profiles" class="list-group-item">
                                            <i class="demo-pli-male icon-lg icon-fw"></i> View Profile
                                        </a>
                                        <a href="/dashboard/logout" class="list-group-item">
                                            <i class="demo-pli-unlock icon-lg icon-fw"></i> Logout
                                        </a>
                                    </div>
                                </div>
                                <ul id="mainnav-menu" class="list-group">
                                    <!--Category name-->
                                    <li class="list-header">Navigation</li>
                                    <!--Menu list item-->
                                    <li>
                                        <a href="/dashboard">
                                            <i class="fa fa-home"></i>
                                            <span class="menu-title">Dashboard</span>
                                        </a>
                                    </li>
                                    @if (ViewBag.UserRolePermissionRecords != null)
                                    {
                                        List<Menu> ParentMenuRecords = (List<Menu>)ViewBag.UserRoleParentPermissionRecords;
                                        ParentMenuRecords = ParentMenuRecords.Where(x => x.Status == ApplicationHelper.EnumStatus.Enable).ToList();
                                        List<RolePermission> RolePremissionRecords = (List<RolePermission>)ViewBag.UserRolePermissionRecords;
                                        foreach (var ParentMenuRecord in ParentMenuRecords)
                                        {

                                            var ChildMenuRecords = RolePremissionRecords.Where(o => o.Menu.ParentID == ParentMenuRecord.ID && o.Menu.Status == ApplicationHelper.EnumStatus.Enable).OrderBy(o => o.SequenceOrder).ToList();
                                            
                                            <li>
                                                <a href="@ParentMenuRecord.AccessURL">
                                                    <i class="@ParentMenuRecord.Icon"></i>
                                                    <span class="menu-title">
                                                        @ParentMenuRecord.Name
                                                    </span>
                                                </a>
                                                <ul class="collapse" style="color:black;">
                                                    @{
                                                        foreach (var ChildMenuRecord in ChildMenuRecords)
                                                        {
                                                            string _menuUrl = ViewBag.WebsiteURL + ChildMenuRecord.Menu.AccessURL;
                                                            <li>
                                                                <a href="@_menuUrl">
                                                                    @if (!string.IsNullOrWhiteSpace(ChildMenuRecord.Menu.Icon))
                                                                    {
                                                                        <i class="@ChildMenuRecord.Menu.Icon" aria-hidden="true"></i>
                                                                    }
                                                                    <span class="menu-title">@ChildMenuRecord.Menu.Name</span>
                                                                </a>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </li>
                                        }
                                    }
                                    <li>
                                        <a href="/dashboard/logout">
                                            <i class="fa fa-sign-out"></i>
                                            <span class="menu-title">
                                                Logout
                                            </span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!--================================-->
                    <!--End menu-->
                </div>
            </nav>
            <!--===================================================-->
            <!--END MAIN NAVIGATION-->
        </div>
        <!-- SCROLL PAGE BUTTON -->
        <!--===================================================-->
        <button class="scroll-top btn">
            <i class="pci-chevron chevron-up"></i>
        </button>
        <!--===================================================-->
    </div>
    <!--===================================================-->
    <!-- END OF CONTAINER -->
    @Scripts.Render("~/assets/cache/jquery")
    @Scripts.Render("~/assets/cache/core")
    @if (IsSectionDefined("LinkScriptSection"))
    {
        @RenderSection("LinkScriptSection");
    }
    @Scripts.Render("~/assets/cache/function")
    @if (IsSectionDefined("InLineScriptSection"))
    {
        @RenderSection("InLineScriptSection");
    }
</body>
</html>
